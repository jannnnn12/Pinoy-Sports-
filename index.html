<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sepak Takraw Kick Trainer</title>
  <style>
    body {
      background: linear-gradient(to bottom, #83c5be 0%, #edf6f9 100%);
      margin: 0; padding: 0;
      width: 100vw; height: 100vh;
      overflow: hidden;
      font-family: 'Segoe UI', Arial, sans-serif;
      user-select: none;
    }
    #game-area {
      position: relative;
      width: 100vw; height: 100vh;
      overflow: hidden;
    }
    #ball {
      position: absolute;
      width: 60px; height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle, #f2c572 60%, #c98c29 100%);
      border: 4px solid #c98c29;
      left: 50vw; top: 10vh;
      box-shadow: 0 4px 16px #8884;
      cursor: pointer;
      display: none;
      transition: box-shadow 0.1s;
    }
    #scoreboard, #gameover, #start-btn {
      position: absolute;
      left: 50%; transform: translateX(-50%);
      text-align: center;
      z-index: 10;
    }
    #scoreboard {
      top: 20px;
      font-size: 2em;
      color: #222;
      background: #fff8;
      padding: 10px 30px;
      border-radius: 20px;
      box-shadow: 0 2px 8px #8882;
    }
    #gameover {
      top: 40%;
      font-size: 2.3em;
      color: #2d6a4f;
      background: #fffdfc;
      padding: 30px 40px 20px 40px;
      border-radius: 18px;
      box-shadow: 0 6px 18px #3333;
      display: none;
    }
    #start-btn {
      top: 55%;
      font-size: 1.3em;
      background: #38b000;
      color: #fff;
      padding: 16px 42px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s;
      box-shadow: 0 4px 12px #2223;
      display: block;
    }
    #start-btn:hover {
      background: #40916c;
    }
    @media (max-width: 600px) {
      #ball { width: 44px; height: 44px; }
      #scoreboard { font-size: 1.3em; padding: 8px 16px; }
      #gameover { font-size: 1.3em; padding: 16px 8px; }
      #start-btn { font-size: 1em; padding: 10px 18px; }
    }
  </style>
</head>
<body>
  <div id="game-area">
    <div id="scoreboard">Score: 0</div>
    <div id="ball"></div>
    <div id="gameover">
      <div id="final-score"></div>
      <button id="start-btn">Start Game</button>
    </div>
  </div>
  <script>
    // DOM elements
    const ball = document.getElementById('ball');
    const scoreBoard = document.getElementById('scoreboard');
    const gameover = document.getElementById('gameover');
    const finalScore = document.getElementById('final-score');
    const startBtn = document.getElementById('start-btn');

    // Game variables
    let score = 0;
    let speed = 2.5;      // starting pixel speed per frame
    let maxSpeed = 15;    // limit max speed
    let dy = 0;
    let ballX = 0, ballY = 0;
    let ballRadius = 30;
    let animationId = null;
    let playing = false;

    // Utility: random X within game area
    function randomX() {
      const min = ballRadius + 10;
      const max = window.innerWidth - ballRadius - 10;
      return Math.floor(Math.random() * (max - min) + min);
    }

    // Start or restart game
    function startGame() {
      score = 0;
      speed = 2.5;
      dy = speed;
      ballRadius = (window.innerWidth < 600) ? 22 : 30;
      ball.style.width = ball.style.height = (ballRadius * 2) + 'px';
      // Place ball at random top position
      ballX = randomX();
      ballY = 10;
      updateBallPosition();
      scoreBoard.textContent = "Score: 0";
      gameover.style.display = 'none';
      ball.style.display = 'block';
      playing = true;
      animate();
    }

    // Main animation/game loop
    function animate() {
      if (!playing) return;
      ballY += dy;
      dy += 0.07 + (speed * 0.015); // gravity, scales slightly with speed

      // Check if hit the ground
      if (ballY + ballRadius*2 >= window.innerHeight - 12) {
        endGame();
        return;
      }
      updateBallPosition();
      animationId = requestAnimationFrame(animate);
    }

    // On kick (click/tap) the ball
    function kickBall() {
      if (!playing) return;
      // Ball bounces up; bounce power increases slightly as speed increases
      dy = - (10 + speed * 0.7 + Math.random() * 2);
      // Move to random X position
      ballX = randomX();
      // Increase speed (difficulty)
      speed = Math.min(speed + 0.6, maxSpeed);
      score++;
      scoreBoard.textContent = "Score: " + score;
      // Small visual feedback
      ball.style.boxShadow = "0 6px 24px #e76f51cc";
      setTimeout(() => { ball.style.boxShadow = "0 4px 16px #8884"; }, 100);
    }

    // End the game
    function endGame() {
      playing = false;
      cancelAnimationFrame(animationId);
      ball.style.display = 'none';
      finalScore.innerHTML = `<b>Game Over!</b><br>Your Score: <span style="color:#e76f51">${score}</span>`;
      gameover.style.display = 'block';
    }

    function updateBallPosition() {
      ball.style.left = (ballX - ballRadius) + "px";
      ball.style.top = (ballY) + "px";
    }

    // Event listeners
    ball.addEventListener('click', kickBall);
    ball.addEventListener('touchstart', function(e){ e.preventDefault(); kickBall(); });

    startBtn.addEventListener('click', startGame);

    // Responsive: reposition ball on resize
    window.addEventListener('resize', function() {
      if (!playing) return;
      ballX = Math.min(ballX, window.innerWidth - ballRadius - 10);
      updateBallPosition();
    });

    // Show start screen on load
    window.onload = function() {
      gameover.style.display = 'block';
      ball.style.display = 'none';
      finalScore.innerHTML = `<b>Sepak Takraw Kick Trainer</b><br>How many kicks can you do?<br><br>
        <span style="font-size:0.8em;color:#888">Tap or click the ball before it hits the ground!</span>`;
      startBtn.textContent = "Start Game";
    };
  </script>
</body>
</html>
